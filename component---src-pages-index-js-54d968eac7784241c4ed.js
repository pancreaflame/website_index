(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"AD+w":function(e,t,n){"use strict";n("pIFo");var a=function(){};e.exports=a},Bl7J:function(e,t,n){"use strict";var a=n("IRj2"),r=n("q1tI"),l=n.n(r),c=n("HxIe"),i=n("zTd8");n("8ypT");t.a=function(e){var t=e.children,n=a.data;return l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{siteTitle:n.site.siteMetadata.title}),l.a.createElement("div",{className:"wrapper"},l.a.createElement("main",null,t),l.a.createElement(i.a,null)))}},IRj2:function(e){e.exports=JSON.parse('{"data":{"site":{"siteMetadata":{"title":"YIndex"}}}}')},RXBc:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),l=n("YwZP"),c=n("kCIJ"),i=(n("0l/t"),n("bWfx"),n("V+eJ"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("91GP"),n("17x9"),n("AD+w"),n("Xo9s")),o=!1,u=0,d=function(){return++u};function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}var f=Object(a.forwardRef)((function(e,t){var n=e.children,l=e.as,c=void 0===l?"div":l,u=e.onChange,f=e.index,b=void 0===f?void 0:f,_=e.readOnly,E=void 0!==_&&_,p=e.defaultIndex,h=m(e,["children","as","onChange","index","readOnly","defaultIndex"]),O=Object(a.useRef)(null!=b).current,g=function(e){var t=e||(o?d():null),n=Object(a.useState)(t),r=n[0],l=n[1];return Object(a.useLayoutEffect)((function(){null===r&&l(d())}),[]),Object(a.useEffect)((function(){!1===o&&(o=!0)}),[]),r}(h.id),j=Object(a.useRef)(!1),y=Object(a.useRef)(null),x=Object(a.useState)(p||0),R=x[0],I=x[1],k=r.a.Children.map(n,(function(e){return v(e)?e:Object(a.cloneElement)(e,{selectedIndex:O?b:R,_id:g,_userInteractedRef:j,_selectedPanelRef:y,_onFocusPanel:function(){return y.current&&y.current.focus()},_onSelectTab:E?function(){}:function(e){j.current=!0,u&&u(e),O||I(e)}})}));return Object(a.useEffect)((function(){return Object(i.a)("tabs")}),[]),r.a.createElement(c,s({"data-reach-tabs":"",ref:t},h,{children:k}))}));f.displayName="Tabs";var b=Object(a.forwardRef)((function(e,t){var n=e.children,l=e.as,c=void 0===l?"div":l,o=e.onKeyDown,u=m(e,["children","as","onKeyDown"]),d=u.selectedIndex,f=u._onSelectTab,b=u._userInteractedRef,_=u._onFocusPanel,E=(u._selectedPanelRef,u._id),p=m(u,["selectedIndex","_onSelectTab","_userInteractedRef","_onFocusPanel","_selectedPanelRef","_id"]),h=r.a.Children.map(n,(function(e,t){return v(e)?e:Object(a.cloneElement)(e,{isSelected:t===d,_id:Object(i.b)(E,t),_userInteractedRef:b,_onSelect:function(){return f(t)}})})),O=Object(i.f)(o,(function(e){var t=r.a.Children.map(n,(function(e,t){return!0===e.props.disabled?null:t})).filter((function(e){return null!=e})),a=t.indexOf(d);switch(e.key){case"ArrowRight":var l=t[(a+1)%t.length];f(l);break;case"ArrowLeft":var c=t.length,i=t[(a-1+c)%c];f(i);break;case"ArrowDown":e.preventDefault(),_();break;case"Home":f(0);break;case"End":f(r.a.Children.count(n)-1)}}));return r.a.createElement(c,s({"data-reach-tab-list":"",ref:t,role:"tablist",onKeyDown:O,children:h},p))}));b.displayName="TabList";var _=Object(a.forwardRef)((function(e,t){var n=e.children,l=e.as,c=void 0===l?"button":l,o=m(e,["children","as"]),u=o.isSelected,d=o._userInteractedRef,f=o._onSelect,b=o._id,_=m(o,["isSelected","_userInteractedRef","_onSelect","_id"]),E="button"===c&&null==_.type?"button":void 0,p=Object(a.useRef)(null),v=Object(i.d)(t,p);return Object(i.e)((function(){u&&p.current&&d.current&&(d.current=!1,p.current.focus())}),[u]),r.a.createElement(c,s({"data-reach-tab":"",ref:v,role:"tab",id:Object(i.b)("tab",b),tabIndex:u?0:-1,"aria-selected":u,"aria-controls":Object(i.b)("panel",b),"data-selected":u?"":void 0,onClick:f,children:n,type:E},_))}));_.displayName="Tab";var E=Object(a.forwardRef)((function(e,t){var n=e.children,l=e.as,c=void 0===l?"div":l,o=m(e,["children","as"]),u=o.selectedIndex,d=o._selectedPanelRef,f=(o._userInteractedRef,o._onFocusPanel,o._onSelectTab,o._id),b=m(o,["selectedIndex","_selectedPanelRef","_userInteractedRef","_onFocusPanel","_onSelectTab","_id"]),_=r.a.Children.map(n,(function(e,t){return v(e)?e:Object(a.cloneElement)(e,{isSelected:t===u,_selectedPanelRef:d,_id:Object(i.b)(f,t)})}));return r.a.createElement(c,s({"data-reach-tab-panels":"",ref:t},b,{children:_}))}));E.displayName="TabPanels";var p=Object(a.forwardRef)((function(e,t){var n=e.children,a=e.as,l=void 0===a?"div":a,c=m(e,["children","as"]),o=c.isSelected,u=c._selectedPanelRef,d=c._id,f=m(c,["isSelected","_selectedPanelRef","_id"]),b=Object(i.d)(t,o?u:null);return r.a.createElement(l,s({"data-reach-tab-panel":"",ref:b,role:"tabpanel",tabIndex:-1,"aria-labelledby":Object(i.b)("tab",d),hidden:!o,id:Object(i.b)("panel",d),children:n},f))}));function v(e){return!e||"string"==typeof e.type}p.displayName="TabPanel";var h=n("Bl7J"),O=n("UVmz"),g=(n("Vd3H"),n("KKXr"),n("Xj19")),j=Object(c.injectIntl)((function(e){e.intl;var t=e.tagObj,n=e.itemObj,a=e.category_id,l=function(e,t,n){var a,r=[],l={};n.filter((function(t){return""!==t.node[e+"_tag_ids"]})).map((function(t){return t.node[e+"_tag_ids"].split(";").map((function(e){return l[e]?l[e]++:l[e]=1,0})),0})),t.filter((function(t){return t.node.category_id===e})).map((function(e){var t={};return e.node.parent_id?t[e.node.id]=e.node.parent_id:t[e.node.id]=null,r.push(t),0}));var c=function e(t,n,a){var r={};if(0===Object.keys(t).length)r.count=a[n]||0;else{var l=0;Object.keys(t).map((function(n){var c=e(t[n],n,a);return l+=c.count,r[n]=c,0}));var c={};Object.keys(r).sort((function(e,t){return r[t].count-r[e].count})).forEach((function(e){c[e]=r[e]})),(r=c).count=l+(a[n]||0)}return r}((a=Object(g.a)(r)).tree,"root",l);return{treeResult:a,countResult:l,treeCount:c}}(a,t,n);return r.a.createElement(c.IntlContextConsumer,null,(function(e){e.languages;var i=e.language;return r.a.createElement("div",{className:"tree_home_cont"},r.a.createElement("ul",null,function e(t,n,a,l,i,o){return Object.keys(n).map((function(u,d){if(n[u].count){var s=l.filter((function(e){return e.node.id===u})),m=u;return s.length&&(m=s[0].node[i]),r.a.createElement("li",{key:d,className:"tree_item"},r.a.createElement("div",{className:"tree_list_cont"},r.a.createElement("h4",{className:"tree_heading"},r.a.createElement(c.Link,{to:"/"+a+"/"+u,className:"tree_link"},m),r.a.createElement("span",{className:"tree_link_text"},n[u].count))),Object.keys(n[u])?r.a.createElement("ul",null,e(t,n[u],a,l,i,o+">")):null,r.a.createElement("ul",null,t&&t.filter((function(e){return-1!==e.node[a+"_tag_ids"].indexOf(u)})).map((function(e,t){return r.a.createElement("li",{key:t,className:"tree_heading"},r.a.createElement(c.Link,{to:"/link/"+e.node.id,className:"tree_item_link"},"zh"===i?e.node.cname||e.node.ename:e.node.ename||e.node.cname))}))))}return null}))}(n,l.treeCount,a,t,i,">")))}))}));n("BO21"),n("EDuE");n.d(t,"IndexQuery",(function(){return y}));t.default=Object(c.injectIntl)((function(e){var t=e.intl,n=e.data,a=n.allApTagCsv.edges,i=n.allApLinkCsv.edges;return r.a.createElement(h.a,null,r.a.createElement(c.IntlContextConsumer,null,(function(e){e.languages;var o=e.language;return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.Location,null,(function(e){e.navigate;var a=e.location;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{title:t.formatMessage({id:"common.home"}),description:t.formatMessage({id:"common.home"}),host:n.site.siteMetadata.host,url:a.pathname}))})),r.a.createElement(f,null,r.a.createElement(b,null,r.a.createElement(_,null,r.a.createElement("span",{className:"tab_badge"},t.formatMessage({id:"index.by"})),t.formatMessage({id:"index.maincate"})),r.a.createElement(_,null,r.a.createElement("span",{className:"tab_badge"},t.formatMessage({id:"index.by"})),t.formatMessage({id:"index.media"})),r.a.createElement(_,null,r.a.createElement("span",{className:"tab_badge"},t.formatMessage({id:"index.by"})),t.formatMessage({id:"index.subject"})),r.a.createElement(_,null,r.a.createElement("span",{className:"tab_badge"},t.formatMessage({id:"index.by"})),t.formatMessage({id:"index.all"}))),r.a.createElement(E,null,r.a.createElement(p,null,r.a.createElement(j,{category_id:"maincategory",tagObj:a,itemObj:i})),r.a.createElement(p,null,r.a.createElement(j,{category_id:"media",tagObj:a,itemObj:i})),r.a.createElement(p,null,r.a.createElement(j,{category_id:"subject",tagObj:a,itemObj:i})),r.a.createElement(p,null,r.a.createElement("div",{className:"home_all_cont"},r.a.createElement("ul",{className:"home_all_list"},i&&i.map((function(e,t){return r.a.createElement("li",{key:t,className:"home_all_item"},r.a.createElement("p",null,r.a.createElement(c.Link,{to:"/link/"+e.node.id,className:"home_all_link"},r.a.createElement("span",null,"zh"===o?e.node.cname||e.node.ename:e.node.ename||e.node.cname))))}))))))))})))}));var y="1218647973"}}]);
//# sourceMappingURL=component---src-pages-index-js-54d968eac7784241c4ed.js.map