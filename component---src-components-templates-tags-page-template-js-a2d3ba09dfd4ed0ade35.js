(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Xj19:function(e,t,n){"use strict";n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V");var a=function(e){var t={},n={};e.map((function(e){return Object.keys(e).map((function(n){return n&&!t[n]&&(t[n]=[]),e[n]&&!t[e[n]]&&(t[e[n]]=[]),0})),0})),e.map((function(t){return Object.keys(t).map((function(a){return t[a]||(n[a]=function e(t,n,a){var r={};return n.map((function(c){return Object.keys(c).map((function(l){return t===c[l]&&(r[l]=e(l,n,a+">")),0})),0})),r}(a,e,">")),0})),0}));return function e(n,a){return Object.keys(n).map((function(r){return t[a]&&(t[r]=t[r].concat(t[a]),t[r]=t[r].concat([a])),e(n[r],r),0})),0}(n,"root"),{tree:n,orphans:t}};t.a=function(e){var t=a(e),n={};return Object.keys(t.orphans).map((function(e){return n[e]=t.orphans[e].join("."),0})),{tree:t.tree,paths:n}}},sscc:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI"),r=n.n(a),c=n("YwZP"),l=n("zTd8"),u=n("HxIe"),i=n("UVmz");n("EDuE");function o(e){var t=e.title,n=e.children,a=e.data,o=t?t+" - ":"";return r.a.createElement("div",{className:"general d-flex flex-column"},r.a.createElement(c.Location,null,(function(e){e.navigate;var t=e.location;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{title:o,description:o,host:a.site.siteMetadata.host,url:t.pathname}))})),r.a.createElement(u.a,{siteTitle:a.site.siteMetadata.title}),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"container text-page-container pb-2"},r.a.createElement("div",null,n))),r.a.createElement(l.a,null))}},zue1:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),c=n("kCIJ"),l=(n("Vd3H"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("KKXr"),n("Xj19")),u=Object(c.injectIntl)((function(e){var t=e.intl,n=e.tagObj,a=e.itemObj,u=e.category_id,i=function(e,t,n){var a,r=[],c={};n.filter((function(t){return""!==t.node[e+"_tag_ids"]})).map((function(t){return t.node[e+"_tag_ids"].split(";").map((function(e){return c[e]?c[e]++:c[e]=1,0})),0})),t.filter((function(t){return t.node.category_id===e})).map((function(e){var t={};return e.node.parent_id?t[e.node.id]=e.node.parent_id:t[e.node.id]=null,r.push(t),0}));var u=function e(t,n,a){var r={};if(0===Object.keys(t).length)r.count=a[n]||0;else{var c=0;Object.keys(t).map((function(n){var l=e(t[n],n,a);return c+=l.count,r[n]=l,0}));var l={};Object.keys(r).sort((function(e,t){return r[t].count-r[e].count})).forEach((function(e){l[e]=r[e]})),(r=l).count=c+(a[n]||0)}return r}((a=Object(l.a)(r)).tree,"root",c);return{treeResult:a,countResult:c,treeCount:u}}(u,n,a);return r.a.createElement(c.IntlContextConsumer,null,(function(e){e.languages;var a=e.language;return r.a.createElement("div",{className:"tree_nav_cont"},r.a.createElement("h4",{className:"tree_nav_heading"},t.formatMessage({id:"menu.classification"})),r.a.createElement("ul",null,function e(t,n,a,l,u){return Object.keys(t).map((function(i,o){if(t[i].count){var s=a.filter((function(e){return e.node.id===i})),m=i;return s.length&&(m=s[0].node[l]),r.a.createElement("li",{key:o,className:"tree_item"},r.a.createElement("div",{className:"tree_list_cont"},r.a.createElement("h4",{className:"tree_heading"},r.a.createElement(c.Link,{to:"/"+n+"/"+i,className:"tree_link"},m),r.a.createElement("span",{className:"tree_link_text"},t[i].count))),Object.keys(t[i])?r.a.createElement("ul",null,e(t[i],n,a,l,u+">")):null)}return null}))}(i.treeCount,u,n,a,">")))}))})),i=(n("91GP"),Object(c.injectIntl)((function(e){return r.a.createElement(c.IntlContextConsumer,null,(function(t){t.languages;var n=t.language;return r.a.createElement("div",null,r.a.createElement(c.Link,{to:"/link/"+e.id},r.a.createElement("h4",null,"zh"===n?e.cname||e.ename:e.ename||e.cname)),r.a.createElement("p",null,e.description),r.a.createElement("hr",null))}))}))),o=Object(c.injectIntl)((function(e){e.intl,e.category_id,e.id,e.tagObj;var t=e.itemObj;return r.a.createElement(c.IntlContextConsumer,null,(function(e){e.languages,e.language;return r.a.createElement("div",null,r.a.createElement("ul",null,t&&t.map((function(e,t){return r.a.createElement(i,Object.assign({key:t},e.node))}))))}))})),s=n("sscc");n.d(t,"TagsPageQuery",(function(){return m}));t.default=Object(c.injectIntl)((function(e){var t=e.pageContext,n=(e.intl,e.data),a=t.item,l=n.allApTagCsv.edges,i=n.allApLinkCsv.edges,m=i.filter((function(e){return-1!==e.node[a.category_id+"_tag_ids"].indexOf(a.id)}));return r.a.createElement(s.a,{title:a.zh+" "+a.en,data:n},r.a.createElement(c.IntlContextConsumer,null,(function(e){e.languages,e.language;return r.a.createElement("div",{className:"tagpage_cont"},r.a.createElement(u,{category_id:a.category_id,tagObj:l,itemObj:i}),r.a.createElement("div",{className:"tagpage_content"},r.a.createElement("p",null,a.category_id),r.a.createElement("h2",null,a.zh),r.a.createElement("p",null,a.en),r.a.createElement(o,{category_id:a.category_id,id:a.id,tagObj:l,itemObj:m})))})))}));var m="3134093656"}}]);
//# sourceMappingURL=component---src-components-templates-tags-page-template-js-a2d3ba09dfd4ed0ade35.js.map